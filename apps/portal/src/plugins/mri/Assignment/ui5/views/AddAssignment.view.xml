<mvc:View
  controllerName="hc.hph.config.assignment.ui.views.AddAssignment"
  xmlns:l="sap.ui.layout"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:core="sap.ui.core"
  xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
  xmlns="sap.m">
  <l:VerticalLayout
    class="sapUiContentPadding"
    width="100%">
    <l:content>
      <Label text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ASSIGNMENT_NAME}" />
      <Input
        value="{result>/assignmentName}"
        placeholder="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ASSIGNMENT_NAME_PLACEHOLDER}"
        valueLiveUpdate="true"
      />

    <Label text="" />

      <Label text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_CONFIG_TYPE}" />
      <ComboBox
        selectedKey='{result>/configType}'
        selectionChange='onConfigTypeChanged'
        items="{
          path: '/configTypes',
          sorter: { path: 'name' }
        }">

        <core:Item key="{key}" text="{path: 'name', formatter: '.configTypeFormatter'}" />
      </ComboBox>

    <Label text="" />

      <Label text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_CONFIG_NAME}" />
      <ComboBox
        id='configIdCombobox'
        selectedKey='{result>/configId}'
        selectionChange='onConfigIdChanged'
        enabled="{path: 'result>/configType', formatter: 'hc.hph.config.assignment.ui.lib.Formatter.isSet'}"
        items="{
          path: '/configurations',
          sorter: { path: 'configName' },
          grouped: 'true'
        }">
        <core:Item key="{configId}" text="{configName}" />
      </ComboBox>

      <Label visible='false' text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_CONFIG_VERSION}" />
      <ComboBox
        visible='false'
        id='configVersionCombobox'
        selectedKey='{result>/configVersion}'
        enabled="{path: 'result>/configId', formatter: 'hc.hph.config.assignment.ui.lib.Formatter.isSet'}"
        items="{
          path: '/configurations',
          sorter: { path: 'configVersion' }
        }">
        <core:Item key="{configVersion}" text="{configVersion}" />
      </ComboBox>

    <Label text="" />

      <Label text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ENTITY_TYPE}" />
      <SegmentedButton id='userOrgSegmentedButton' items="{path: '/entityTypes', sorter: { path: 'key' }}" select=".onEntityTypeChanged">
        <items>
            <SegmentedButtonItem key="{key}" icon="{path: 'key', formatter: '.entityIconFormatter'}" text="{path: 'name', formatter: '.entityNameFormatter'}" />
        </items>
      </SegmentedButton>

    <Label text="" />

      <Label text="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ENTITY_VALUE}" />
      <ComboBox
        id='orgCombobox'
        selectedKey="{result>/entityValue}"
        items="{
          path: 'studies>/',
          sorter: { path: 'name' }
        }"
        placeholder="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ORG_VALUE_PLACEHOLDER}">
        <core:Item key="{studies>studyId}" text="{studies>name}" />
      </ComboBox>

        <Input
            id='userCombobox'
            type="Text"
            value="{result>/entityValue}"
            placeholder="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_ASSIGNMENT_NAME_PLACEHOLDER}"
            showSuggestion="true"
            suggestionItems="{
              path: 'users>/',
              sorter: { path: 'userName' }
            }" >
				<suggestionItems>
				  <core:Item key="{users>userName}" text="{users>userName}" />
				</suggestionItems>
			</Input>

      <ComboBox
        id='defaultCombobox'
        selectedKey="{result>/entityValue}"
        items="{
          path: 'defaults>/'
        }"
        placeholder="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_DEFAULT_VALUE_PLACEHOLDER}">
        <core:Item key="{defaults>DEFAULTID}" text="{defaults>DEFAULTID}" />
      </ComboBox>

      <Input
        id='groupCombobox'
        type="Text"
        value="{result>/entityValue}"
        placeholder="{i18n>HPH_CFG_ASSIGN_ADD_ASSIGNMENT_DIALOG_FIELD_GROUP_VALUE_PLACEHOLDER}"
      >
			</Input>
    </l:content>
  </l:VerticalLayout>
</mvc:View>
