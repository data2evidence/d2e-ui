version: "3.8"

services:
  alp-local-ui-file-server:
    image: alpcr.azurecr.io/alp-data-node/alp-local-ui-file-server:local # will build from local
    build:
      context: ../alp-ui # Relative to alp repo!!
      dockerfile: Dockerfile
      ssh:
        - default=${SSH_AUTH_SOCK}
    container_name: alp-local-ui-file-server
    # volumes:
    # uncomment the required lines below when doing local UI development, to use files from file system instead of docker image
    # - ../alp-ui/resources/mri-ui5/PatientSummaryConfig:/home/docker/ui-files/mri-ui5/PatientSummaryConfig
    # - ../alp-ui/resources/mri:/home/docker/ui-files/mri
    # - ../alp-ui/resources/starboard-notebook-base:/home/docker/ui-files/starboard-notebook-base
    # - ../alp-ui/resources/mri-ui5/mri-pa-ui:/home/docker/ui-files/mri-ui5/mri-pa-ui
    # - ../alp-ui/resources/mri-ui5/chp-ps-ui:/home/docker/ui-files/mri-ui5/chp-ps-ui
    networks:
      - alp
